<div class="bot-panel" tabindex="0"> <div class="row-action-primary"> <i>{{bot.t}}</i> </div> <div class="row-content bot-panel-small"> <h4> <span ng-switch="showControls"> <span ng-switch-when="true"><a href editable-text="bot.name">{{ bot.name }}</a></span> <span ng-switch-default>{{ bot.name }}</span> </span> <span class="badge alert-danger" ng-show="bot.message.length" ng-click="main.bot = bot; showControls = true; logActive = true;">!</span> </h4> <div class="row"> <!-- label class="col-sm-2">MC</label--> <div class="col-sm-3">-{{bot.moveCost() | number : 0}} [J/km]</div> <!-- label class="col-sm-2">Ch</label --> <div class="col-sm-3">+{{bot.chargeRate() | number : 2}} [J/d]</div> </div> <div class="row"> <!-- label class="col-sm-2">[J]</label --> <div class="col-xs-6"> <progressbar class="active" ng-class="{'progress-striped': bot.E < bot.mE}" value="bot.E * 100 / bot.mE" type="danger"> <span style="color:black; white-space:nowrap">{{bot.E | number : 1}} / {{bot.mE | number : 0}} [J]</span> </progressbar> </div> <!-- label class="col-sm-2">Storage</label --> <div class="col-xs-6"> <progressbar class="active" value="bot.S * 100 / bot.mS" type="info"> <span style="color:black; white-space:nowrap">{{bot.S}} / {{bot.mS}} [kg]</span> </progressbar> </div> </div> <p> <div class="row"> <div class="col-xs-6"> <!-- button class="btn btn-primary btn-xs" ng-click="main.toggleBot(bot)" ng-disabled="!bot.scriptName" tooltip="Run code">
          <i class="glyphicon glyphicon-play"
            ng-class="{ true: 'glyphicon-play', false: 'glyphicon-pause'}[bot.manual]"></i>
        </button --> <div class="btn-group"> <button type="button" class="btn btn-xs btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> {{bot.scriptName || 'Manual' }} <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span> </button> <ul class="dropdown-menu" role="menu"> <li> <a href ng-click="bot.setCode(null)" ng-class="{ true: 'active' }[null === bot.scriptName]"> <i class="" ng-class="{ true: 'mdi-toggle-radio-button-on', false: 'mdi-toggle-radio-button-off'}[bot.scriptName === null]"></i> Manual </a> </li> <li> <a href ng-click="bot.setCode(script)" ng-repeat="script in main.game.scripts" ng-class="{ true: 'active' }[script.name === bot.scriptName]"> <i class="" ng-class="{ true: 'mdi-toggle-radio-button-on', false: 'mdi-toggle-radio-button-off'}[bot.scriptName === script.name]"></i> {{script.name}} </a> </li> <li class="divider"></li> <li ng-if="bot.scriptName"><a href ng-click="main.showScripts(bot.scriptName)">Edit</a></li> <!-- new --> </ul> </div> <!-- div class="input-group input-group-xs">
          <span class="input-group-addon btn-xs btn-primary">
            <input type="checkbox" checked="bot.manual" ng-click="main.toggleBot(bot)">
            {{bot.scriptName}}
          </span>
          <div class="input-group-btn">
            <button type="button" class="btn btn-xs btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              {{bot.scriptName}} <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li>
                <a href
                  ng-click="bot.setCode(script); main.toggleBot(bot, true)"
                  ng-repeat="script in main.game.scripts"
                  ng-class="{ true: 'active' }[script.name === bot.scriptName]">
                  {{script.name}}
                </a>
              </li>
              <li class="divider"></li>
              <li><a href ng-click="main.showScripts(bot.scriptName)">Edit</a></li>
            </ul>
          </div>
        </div --> <!-- div class="btn-group">
          <button type="button" class="btn btn-xs btn-primary"
            ng-click="main.toggleBot(bot)">
            {{bot.scriptName}}
            <i class="glyphicon glyphicon-play"
              ng-class="{ false: 'glyphicon-play', true: 'glyphicon-pause'}[bot.manual]"></i>
          </button>
          <button type="button" class="btn btn-xs btn-primary dropdown-toggle" data-toggle="dropdown">
            <span class="caret"></span>
            <span class="sr-only">Toggle Dropdown</span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href
                ng-click="bot.setCode(script); main.toggleBot(bot, true)"
                ng-repeat="script in main.game.scripts"
                ng-class="{ true: 'active' }[script.name === bot.scriptName]">
                {{script.name}}
              </a>
            </li>
            <li class="divider"></li>
            <li><a href ng-click="main.showScripts(bot.scriptName)">Edit</a></li>
          </ul>
        </div --> <!-- button class="btn btn-primary btn-xs" ng-if="bot !== main.home" tooltip="Unload storage"
          ng-click="bot.unloadTo(main.home)"
          ng-disabled="!main.canUnload(bot)">
          <i class="glyphicon glyphicon-log-out"></i>
        </button>
        <button class="btn btn-primary btn-xs" ng-click="main.home.chargeBot(bot); $event.stopPropagation();" ng-if="bot !== main.home" ng-disabled="!main.canCharge(bot)" tooltip="Charge">
          <i class="glyphicon glyphicon-flash"></i>
        </button --> <button class="btn btn-danger btn-xs" tooltip="Launch" ng-click="main.relocate(bot); $event.stopPropagation();" ng-if="bot.mE >= 1000" ng-disabled="bot.E < 1000"> <i class="mdi-content-send"></i> <span class="badge">-1000 J</span> </button> </div> <div class="col-xs-6"> <button class="btn btn-info btn-xs" tooltip="Upgrade bot" ng-click="bot.upgrade(); $event.stopPropagation();" ng-disabled="bot.S < 10"> <i class="mdi-editor-merge-type"></i> <span class="badge">-10 kg</span> </button> <button class="btn btn-info btn-xs" tooltip="Construct new bot" ng-click="bot.construct(); $event.stopPropagation();" ng-if="bot.mS >= 100" ng-disabled="bot.S < 100"> <i class="mdi-social-person-add"></i> <span class="badge">-100 kg</span> </button> </div> </div> </div> <div class="row" ng-if="showControls"> <hr class="clearfix"> </div> <tabset type="pills" justified="true" ng-if="showControls"> <tab heading="Manual Control"> <div class="row"> <div class="col-lg-6 text-center"> <u>Movement</u><br> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move(-1,-1)" ng-disabled="!bot.canMove(-1,-1)">Q</button> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move( 0,-1)" ng-disabled="!bot.canMove( 0,-1)">W</button> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move( 1,-1)" ng-disabled="!bot.canMove( 1,-1)">E</button> <p> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move(-1,0)" ng-disabled="!bot.canMove(-1,0)">A</button> <button class="btn btn-primary btn-mono btn-lg" ng-click="main.action(bot)" ng-disabled="!main.canAction(bot)">S</button> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move( 1,0)" ng-disabled="!bot.canMove( 1,0)">D</button> <p> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move(-1,1)" ng-disabled="!bot.canMove(-1,1)">Z</button> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move( 0,1)" ng-disabled="!bot.canMove( 0,1)">X</button> <button class="btn btn-primary btn-mono btn-lg" ng-click="bot.move( 1,1)" ng-disabled="!bot.canMove( 1,1)">C</button> <p> </div> <div class="col-lg-6 script-btns"> <div class="row"> <u class="col-xs-2 text-center">Auto</u> <u class="col-xs-8 text-center">Script</u> </div> <div class="row script-btn"> <!--- this should be a ul, li --> <div class="radio radio-primary col-xs-2"> <label> <input type="radio" ng-checked="bot.scriptName === null" ng-click="bot.scriptName = null"> <span class="circle"></span><span class="check"> </span> </label> </div> <div class="btn btn-link col-xs-8"> Manual </div> </div> <div class="row script-btn" ng-repeat="script in main.game.scripts"> <div class="radio radio-primary col-xs-2"> <label> <input type="radio" ng-checked="bot.scriptName === script.name" ng-click="bot.scriptName = script.name"> <span class="circle"></span><span class="check"> </span> </label> </div> <button class="btn btn-primary col-xs-8" ng-click="main.run(script.code)"> {{script.name | limitTo : 10}} </button> <button class="btn btn-sm btn-link btn-hover col-xs-1" ng-click="main.showScripts(script.name)"> <i class="glyphicon glyphicon-edit"></i> </button> </div> </div> <form class="console col-md-12" ng-submit="main.run(code);"> <span class="glyphicon glyphicon-chevron-right search-icon pull-left"></span> <input class="form-control" type="text" ng-model="code"> </form> </div> </tab> <tab heading="Log" active="logActive"> <div class="alert alert-danger clear-fix" role="alert" ng-show="bot.message.length"> {{bot.message}} </div> </tab> <tab heading="Cheats" ng-if="main.cheat"> <div class="row"> <div class="col-md-12"> <button ng-click="main.game.world.scanRange(bot.x,bot.y,20)">Show map</button> <br>Energy: <input type="number" ng-model="bot.E"> / <input type="number" ng-model="bot.mE"> <a href ng-click="bot.E = bot.mE">fill</a> <br>Storage: <input type="number" ng-model="bot.S"> / <input type="number" ng-model="bot.mS"> <a href ng-click="bot.S = bot.mS">fill</a> </div> </div> </tab> </tabset> </div>